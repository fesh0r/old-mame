<html>
<head>
<title>Info for specpls4</title>
</head>
<body leftmargin= 20 rightmargin = 20>
<table width=100%>
<tr>
<td width=25%><h4><a href="../sysinfo.htm">Back to index</a></h4></td>
<td><h1>Info for specpls4</h1></td>
</tr>
</table>
<hr>
<h4>Amstrad Spectrum +4 Rom</h4>
The plus4.rom is copyright (c)1982-2000 Amstrad plc<br>
and is distributed with their kind permission.<br>
I would like to thank Cliff Lawson and Amstrad for making this<br>
project possible, Phillip Kendall for the Spectrum ROM page, Ian<br>
Collier for documenting the changes he made to the ROM and giving me<br>
additional advice, Dr Ian Logan and Dr Frank O'Hara for the invaluable<br>
Complete Spectrum ROM Disassembly, and whoever it was that sold the<br>
book to me and contributors to comp.sys.sinclair for keeping me<br>
constantly amused and informed.<br>
-Andrew Owen, 24-2-2000<br>
Introducing the Spectrum +4.<br>
Remember when Apple promised its customers a whole new computer for<br>
change the experience of their users so profoundly it would make them<br>
feel as if they had a new machine. Well now you can have a whole new<br>
Spectrum for FREE!<br>
What is the idea behind this?<br>
I've taken the original 48K machine as my starting point and tweaked<br>
it until the point where I don't think there is any further room for<br>
improvement without adding extra hardware. Now if someone wants to<br>
build a new machine at least they have a place to start.<br>
How compatible is it?<br>
The Spectrum +4 ROM is very similar to the one in the 48 and so it<br>
should be 90% compatible or better with machine code. BASIC programs<br>
may require minor modifications but should then run without problems.<br>
What are the changes?<br>
There are so many changes that it is impossible to summarize them all.<br>
Only the important changes have been detailed with the exception of<br>
the new NMI routine which is self explanatory.<br>
THE KEYBOARD<br>
The keyboard layout has been completely redesigned, based on the<br>
standard international English keyboard, to make it quicker to use and<br>
easier to remember which keys are where. This is made possible by<br>
replacing the keyword entry system.<br>
All the SHIFT functions on the number keys are retained, as are the<br>
EXTEND and SHIFT-EXTEND attribute functions. But that is where the<br>
similarity to the old keyboard ends.<br>
All but a few symbols are accessed by holding down SYMBOL shift and<br>
the relevant key, while the remainder are accessed using EXTEND mode.<br>
Pressing either SHIFT or SYMBOL shift in EXTEND mode will give the<br>
same result as if SYMBOL shift alone had been pressed. In addition to<br>
the characters shown below, the 16 pre-defined graphics characters are<br>
accessible using SYMBOL shift or EXTEND mode and keys Q-R and A-F.<br>
<ul>
<li>--------------------------------------
</ul>
| ! | @ | £ | $ | % | ^ | & | * | ( | ) |<br>
| 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 0 |<br>
<ul>
<li>---------------------------------------
</ul>
 |   |   |   |   |   |   | { | } | : | " |<br>
 |   |   |   |   |   |   | [ | ] | ; | ' |<br>
 | Q | W | E | R | T | Y | U | I | O | P |<br>
<ul>
<li>--------------------------------------
</ul>
   |   |   |   |   |   |   | | | _ | + |<br>
   |   |   |   |   |(c)|   | \ | - | = |<br>
   | A | S | D | F | G | H | J | K | L |<br>
<ul>
<li>----------------------------------
</ul>
     | ~ |   |   |   | ? | &lt; | &gt; |<br>
     | # |   |   |   | / | , | . |<br>
     | Z | X | C | V | B | N | M |<br>
<ul>
<li>--------------------------
</ul>
SYMBOL = Lower symbols<br>
EXTEND = Upper symbols and attributes on number keys<br>
SHIFT  = Upper case letters and functions on number keys<br>
BASIC EDITOR<br>
The most noticeable change is that all commands must be typed in full.<br>
Instructions are converted into tokens automatically when you press<br>
ENTER. It is also possible to use the cursors to move up and down<br>
while editing a line. Instructions can be entered in both capital and<br>
lower letters. No space is required between commands such as DEF FN or<br>
after a command unless the argument begins with a letter.<br>
BASIC COMMANDS<br>
CAT, when entered without parameters, calls up the built-in monitor.<br>
The PLOT, DRAW and CIRCLE commands have been modified to use the whole<br>
screen.<br>
ERASE "i" erases extra Interface 1 variables, extended channels and<br>
such without affecting the BASIC program in memory.<br>
The GO SUB, GO TO and CONTINUE commands have been replaced by GOSUB,<br>
GOTO, and CONT, to replicate other BASIC interpreters.<br>
MOVE can be used to shift data around in memory. For example, the<br>
command MOVE "r0,6144","r16384" would copy the first 6144 bytes of ROM<br>
to the screen area of memory.<br>
The COPY command has been replaced by the FREE command which reports<br>
the amount of free memory below RAMTOP.<br>
THE MONITOR PROGRAM<br>
The Spectrum +4 features a built-in monitor which can be accessed with<br>
the CAT command or holding down SYMBOL shift, SPACE and B while<br>
<p><b>interrupts are enabled. The following commands are then available:</b><br>
B             Return to BASIC (if possible)<br>
D&lt;hex_num&gt;    Displays entered hex number in decimal notation<br>
G&lt;hex_addr&gt;   Execute a subroutine at address G<br>
              (RET will return to the monitor).<br>
H&lt;dec_num&gt;    Displays entered decimal number in hex notation<br>
M&lt;hex_addr&gt;   Hex and ASCII dump from given address<br>
              (SPACE to exit).<br>
R             View and/or change registers<br>
              AF, BC, DE, HL, IX and SP.<br>
S&lt;hex_addr&gt;   Patch memory from given address using hex editor<br>
              (SPACE to exit editor).<br>
BUG FIXES<br>
Every effort has been made to fix all the bugs mentioned in The<br>
<p><b>Complete Spectrum Rom Disassembly and a few others besides as follows:</b><br>
Fixed a bug the CLOSE # bug. eg CLOSE #4<br>
Fixed the forwardspace (CHR$ 9) bug. e.g. PRINT "A";CHR$ 9;"B"<br>
Fixed the backspace (CHR$ 8) bug. e.g. PRINT AT 0,0;CHR$ 8;"A"<br>
Fixed the STR$ bug. e.g. PRINT "BUG"+STR$ 0.5<br>
Fixed the division bug. e.g. IF 1/2&lt;&gt;0. 5 THEN PRINT "BUG"<br>
Fixed the -65536 bug. e.g. PRINT INT -65536<br>
Fixed the SCREEN$ bug. e.g. IF "X"=SCREEN$ (0,0) THEN PRINT "BUG"<br>
Fixed the "scroll?" bug. Try pressing True Video at the request.<br>
Fixed the syntax check error.<br>
Fixed the double store bug at 257Dh.<br>
Resolved the K-MODE bug. There is no 'K' mode.<br>
Resolved printer buffer error. There is no COPY command.<br>
Resolved the NMI bug. There is a different routine.<br>
Fixed the 'lock up if interrupts are disabled on error report' bug<br>
LEGAL NOTICE FOR THE CURIOUS<br>
Just to make sure it was 100% okay to do this I wrote to Amstrad's<br>
Cliff Lawson on 23/02/00. Here's what followed.<br>
ME: I know it's okay in principle to distribute modified Spectrum<br>
    ROMs as long as the copyright message is unchanged. However,<br>
    I've just finished a very major overhaul of the ROM and would<br>
    like to use an alternative message.<br>
CL: Well you can't really associate a name such as "+4" with<br>
    "Amstrad Consumer Electronics" because it makes it look as if<br>
    it's an "official" development.<br>
ME: Would this be acceptable?<br>
      AMSTRAD CONSUMER ELECTRONICS PLC<br>
       (C)1982-2000 unofficial +4 48K<br>
CL: Yup, sounds OK but you do realize that the company was only<br>
    called "Amstrad Consumer Electronics" for a few years in the<br>
    early..mid 80's then the company name was shortened to<br>
    "Amstrad plc" so it's a bit "out of date" to use it but I<br>
    guess that probably describes the "Spectrum" too! :-)<br>
ME: Mind if I quote you in the "readme" just so no one accuses me<br>
    of violating copyrights?<br>
CL: No problem.<br>
 Visit the Amstrad website at <a href="http://www.amstrad.com">http://www.amstrad.com</a><br>
                   Amstrad plc. Registered in England No. 955321<br>
Registered Office: Brentwood House, 169 Kings Road, Brentwood,<br>
                   Essex CM14 4EF, England<br>
<hr>
<center><font size=-2>Generated on Sun Aug 10 19:24:04 2003
</font></center>
</body>
</html>
